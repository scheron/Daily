{"type":"function","function":{"name":"list_tasks","description":"Get tasks for a date. Returns IDs, content, status, time, tags.","parameters":{"type":"object","properties":{"date":{"type":"string","description":"YYYY-MM-DD. Defaults to today."},"include_done":{"type":"boolean"},"project_id":{"type":"string","description":"Optional project ID."}}}}}
{"type":"function","function":{"name":"get_task","description":"Get full details of a task by ID.","parameters":{"type":"object","properties":{"task_id":{"type":"string"}},"required":["task_id"]}}}
{"type":"function","function":{"name":"create_task","description":"Create a new task. Use list_tags first if adding tags.","parameters":{"type":"object","properties":{"content":{"type":"string","description":"Task text."},"date":{"type":"string","description":"YYYY-MM-DD. Defaults to today."},"time":{"type":"string","description":"HH:MM 24h format."},"tag_ids":{"type":"array"},"estimated_minutes":{"type":"number"},"project_id":{"type":"string","description":"Optional project ID."}},"required":["content"]}}}
{"type":"function","function":{"name":"update_task","description":"Update task fields. Set status to change state: 'done'=completed/finished, 'discarded'=cancelled/skipped, 'active'=reopen.","parameters":{"type":"object","properties":{"task_id":{"type":"string"},"content":{"type":"string"},"date":{"type":"string"},"time":{"type":"string"},"status":{"type":"string","description":"done=complete, discarded=cancel/skip, active=reopen","enum":["active","done","discarded"]},"estimated_minutes":{"type":"number"},"project_id":{"type":"string","description":"Target project ID."}},"required":["task_id"]}}}
{"type":"function","function":{"name":"complete_task","description":"Mark a task as done.","parameters":{"type":"object","properties":{"task_id":{"type":"string"}},"required":["task_id"]}}}
{"type":"function","function":{"name":"discard_task","description":"Mark a task as discarded/cancelled.","parameters":{"type":"object","properties":{"task_id":{"type":"string"}},"required":["task_id"]}}}
{"type":"function","function":{"name":"reactivate_task","description":"Reactivate a done/discarded task back to active.","parameters":{"type":"object","properties":{"task_id":{"type":"string"}},"required":["task_id"]}}}
{"type":"function","function":{"name":"delete_task","description":"Move a task to trash (soft delete).","parameters":{"type":"object","properties":{"task_id":{"type":"string"}},"required":["task_id"]}}}
{"type":"function","function":{"name":"add_task_tags","description":"Add tags to a task. Use list_tags first.","parameters":{"type":"object","properties":{"task_id":{"type":"string"},"tag_ids":{"type":"array"}},"required":["task_id","tag_ids"]}}}
{"type":"function","function":{"name":"remove_task_tags","description":"Remove tags from a task.","parameters":{"type":"object","properties":{"task_id":{"type":"string"},"tag_ids":{"type":"array"}},"required":["task_id","tag_ids"]}}}
{"type":"function","function":{"name":"search_tasks","description":"Search tasks by text across all dates.","parameters":{"type":"object","properties":{"query":{"type":"string"}},"required":["query"]}}}
{"type":"function","function":{"name":"move_task","description":"Move/reschedule a task to another date.","parameters":{"type":"object","properties":{"task_id":{"type":"string"},"date":{"type":"string","description":"YYYY-MM-DD"}},"required":["task_id","date"]}}}
{"type":"function","function":{"name":"move_task_to_project","description":"Move task to another project.","parameters":{"type":"object","properties":{"task_id":{"type":"string"},"project_id":{"type":"string"}},"required":["task_id","project_id"]}}}
{"type":"function","function":{"name":"log_time","description":"Log time spent on a task. Operations: add (default), subtract, set.","parameters":{"type":"object","properties":{"task_id":{"type":"string"},"minutes":{"type":"number"},"operation":{"type":"string","enum":["add","subtract","set"]}},"required":["task_id","minutes"]}}}
{"type":"function","function":{"name":"list_projects","description":"List projects with IDs and active marker.","parameters":{"type":"object","properties":{}}}}
{"type":"function","function":{"name":"create_project","description":"Create a project.","parameters":{"type":"object","properties":{"name":{"type":"string"}},"required":["name"]}}}
{"type":"function","function":{"name":"rename_project","description":"Rename a project.","parameters":{"type":"object","properties":{"project_id":{"type":"string"},"name":{"type":"string"}},"required":["project_id","name"]}}}
{"type":"function","function":{"name":"delete_project","description":"Delete a project. Ask confirmation before using.","parameters":{"type":"object","properties":{"project_id":{"type":"string"}},"required":["project_id"]}}}
{"type":"function","function":{"name":"switch_project","description":"Switch active project.","parameters":{"type":"object","properties":{"project_id":{"type":"string"}},"required":["project_id"]}}}
{"type":"function","function":{"name":"get_day_summary","description":"Get day overview: task counts, progress, time stats.","parameters":{"type":"object","properties":{"date":{"type":"string","description":"YYYY-MM-DD. Defaults to today."},"project_id":{"type":"string","description":"Optional project ID."}}}}}
{"type":"function","function":{"name":"get_task_attachments","description":"List file attachments on a task.","parameters":{"type":"object","properties":{"task_id":{"type":"string"}},"required":["task_id"]}}}
{"type":"function","function":{"name":"remove_task_attachment","description":"Remove a file attachment from a task.","parameters":{"type":"object","properties":{"task_id":{"type":"string"},"file_id":{"type":"string"}},"required":["task_id","file_id"]}}}
{"type":"function","function":{"name":"list_tags","description":"Get all tags with IDs, names, colors.","parameters":{"type":"object","properties":{}}}}
{"type":"function","function":{"name":"get_tag","description":"Get full details of a tag by ID.","parameters":{"type":"object","properties":{"tag_id":{"type":"string"}},"required":["tag_id"]}}}
{"type":"function","function":{"name":"create_tag","description":"Create a new tag.","parameters":{"type":"object","properties":{"name":{"type":"string"},"color":{"type":"string","description":"Hex color like #FF5733."}},"required":["name"]}}}
{"type":"function","function":{"name":"update_tag","description":"Update a tag's name or color.","parameters":{"type":"object","properties":{"tag_id":{"type":"string"},"name":{"type":"string"},"color":{"type":"string"}},"required":["tag_id"]}}}
{"type":"function","function":{"name":"delete_tag","description":"Delete a tag. Removes it from all tasks.","parameters":{"type":"object","properties":{"tag_id":{"type":"string"}},"required":["tag_id"]}}}
